{
  "info": {
    "name": "PG Management API",
    "description": "Complete API collection for PG Management Service",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "1. Setup & Initialization",
      "item": [
        {
          "name": "Initialize Database",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/init-db",
              "host": ["{{base_url}}"],
              "path": ["init-db"]
            },
            "description": "Initialize database with sample data (admin, tenant, rooms, payments, complaints)"
          },
          "response": []
        },
        {
          "name": "Home",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/",
              "host": ["{{base_url}}"],
              "path": [""]
            },
            "description": "View available endpoints"
          },
          "response": []
        }
      ]
    },
    {
      "name": "2. User Authentication",
      "item": [
        {
          "name": "Register New User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"newuser@pg.com\",\n  \"password\": \"securepass123\",\n  \"role\": \"ADMIN\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/register",
              "host": ["{{base_url}}"],
              "path": ["register"]
            },
            "description": "Register a new user (ADMIN or TENANT)"
          },
          "response": []
        },
        {
          "name": "Admin Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@pg.com\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/login",
              "host": ["{{base_url}}"],
              "path": ["login"]
            },
            "description": "Login as admin user"
          },
          "response": []
        },
        {
          "name": "Tenant Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"tenant@pg.com\",\n  \"password\": \"tenant123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/login",
              "host": ["{{base_url}}"],
              "path": ["login"]
            },
            "description": "Login as tenant user"
          },
          "response": []
        },
        {
          "name": "Logout",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/logout",
              "host": ["{{base_url}}"],
              "path": ["logout"]
            },
            "description": "Logout current user"
          },
          "response": []
        }
      ]
    },
    {
      "name": "3. Room Management (Admin)",
      "item": [
        {
          "name": "Add Room",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"room_no\": \"105\",\n  \"room_type\": \"Double\",\n  \"rent\": 9000,\n  \"status\": \"Available\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/rooms",
              "host": ["{{base_url}}"],
              "path": ["rooms"]
            },
            "description": "Add a new room (Admin only)"
          },
          "response": []
        },
        {
          "name": "Get All Rooms",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/rooms",
              "host": ["{{base_url}}"],
              "path": ["rooms"]
            },
            "description": "View all available rooms"
          },
          "response": []
        }
      ]
    },
    {
      "name": "4. Tenant Management (Admin)",
      "item": [
        {
          "name": "Add Tenant",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": 2,\n  \"name\": \"Jane Smith\",\n  \"phone\": \"9876543211\",\n  \"room_id\": 2\n}"
            },
            "url": {
              "raw": "{{base_url}}/tenants",
              "host": ["{{base_url}}"],
              "path": ["tenants"]
            },
            "description": "Add a new tenant (Admin only)"
          },
          "response": []
        },
        {
          "name": "Get All Tenants",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/tenants",
              "host": ["{{base_url}}"],
              "path": ["tenants"]
            },
            "description": "View all tenants"
          },
          "response": []
        }
      ]
    },
    {
      "name": "5. Payment Management (Admin)",
      "item": [
        {
          "name": "Record Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tenant_id\": 1,\n  \"month\": \"April 2026\",\n  \"amount\": 5000,\n  \"paid\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/payments",
              "host": ["{{base_url}}"],
              "path": ["payments"]
            },
            "description": "Record a payment (Admin only)"
          },
          "response": []
        },
        {
          "name": "Get All Payments",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/payments",
              "host": ["{{base_url}}"],
              "path": ["payments"]
            },
            "description": "View all payment records"
          },
          "response": []
        }
      ]
    },
    {
      "name": "6. Complaint Management (Tenant)",
      "item": [
        {
          "name": "Submit Complaint",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tenant_id\": 1,\n  \"category\": \"Plumbing\",\n  \"description\": \"Water leakage in bathroom\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/complaints",
              "host": ["{{base_url}}"],
              "path": ["complaints"]
            },
            "description": "Submit a complaint (Tenant only)"
          },
          "response": []
        },
        {
          "name": "Get All Complaints",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/complaints",
              "host": ["{{base_url}}"],
              "path": ["complaints"]
            },
            "description": "View all complaints"
          },
          "response": []
        }
      ]
    },
    {
      "name": "7. Authorization Tests",
      "item": [
        {
          "name": "Tenant Try Add Room (Should Fail)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"room_no\": \"106\",\n  \"room_type\": \"Single\",\n  \"rent\": 5000,\n  \"status\": \"Available\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/rooms",
              "host": ["{{base_url}}"],
              "path": ["rooms"]
            },
            "description": "Authorization test: Tenant trying to add room (should get 403)"
          },
          "response": []
        },
        {
          "name": "Admin Try Submit Complaint (Should Fail)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"tenant_id\": 1,\n  \"category\": \"Electrical\",\n  \"description\": \"Light not working\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/complaints",
              "host": ["{{base_url}}"],
              "path": ["complaints"]
            },
            "description": "Authorization test: Admin trying to submit complaint (should get 403)"
          },
          "response": []
        },
        {
          "name": "Access Without Login (Should Fail)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/rooms",
              "host": ["{{base_url}}"],
              "path": ["rooms"]
            },
            "description": "Authorization test: Accessing protected route without login (should get 401)"
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000"
    }
  ]
}
